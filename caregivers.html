<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°„ë³‘ì¸ ì°¾ê¸° - ë‡Œì§ˆí™˜ì¼€ì–´</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .caregiver-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .caregiver-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 2% auto;
            padding: 0;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <a href="index.html" class="flex items-center space-x-3">
                    <span class="text-4xl">ğŸ§ </span>
                    <div><h1 class="text-xl font-bold text-primary">ë‡Œì§ˆí™˜ì¼€ì–´</h1></div>
                </a>
                
                <div class="flex items-center space-x-2">
                    <button onclick="switchLanguage('ko')" class="lang-btn px-2 py-1 rounded-lg hover:bg-gray-100 transition" data-lang="ko">
                        ğŸ‡°ğŸ‡· <span class="hidden sm:inline">í•œêµ­ì–´</span>
                    </button>
                    <button onclick="switchLanguage('en')" class="lang-btn px-2 py-1 rounded-lg hover:bg-gray-100 transition" data-lang="en">
                        ğŸ‡ºğŸ‡¸ <span class="hidden sm:inline">English</span>
                    </button>
                    <button onclick="switchLanguage('zh')" class="lang-btn px-2 py-1 rounded-lg hover:bg-gray-100 transition" data-lang="zh">
                        ğŸ‡¨ğŸ‡³ <span class="hidden sm:inline">ä¸­æ–‡</span>
                    </button>
                    <button onclick="switchLanguage('ja')" class="lang-btn px-2 py-1 rounded-lg hover:bg-gray-100 transition" data-lang="ja">
                        ğŸ‡¯ğŸ‡µ <span class="hidden sm:inline">æ—¥æœ¬èª</span>
                    </button>
                    
                    <button id="mobile-menu-toggle" class="md:hidden ml-4 text-gray-600 hover:text-primary">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
            <div class="hidden md:flex space-x-1 pb-2 overflow-x-auto">
                <a href="index.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.home">í™ˆ</a>
                <a href="disease-info.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.disease">ë‡Œì§ˆí™˜ ì •ë³´</a>
                <a href="hospital.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.hospital">ë³‘ì› ê²€ìƒ‰</a>
                <a href="caregivers.html" class="menu-link px-3 py-1 text-sm rounded-lg bg-primary text-white hover:bg-blue-700 transition whitespace-nowrap" data-i18n="menu.caregivers">ê°„ë³‘ì¸</a>
                <a href="rehab.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.rehab">ì¬í™œìš´ë™</a>
                <a href="insurance.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.insurance">ë³´í—˜</a>
                <a href="support.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.support">ì§€ì›ì •ì±…</a>
                <a href="supplies.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.supplies">ê°„ë³‘ìš©í’ˆ</a>
                <a href="community.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.community">ì»¤ë®¤ë‹ˆí‹°</a>
                <a href="medical.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.medical">ëª…ì˜ì°¾ê¸°</a>
                <a href="complaints.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap" data-i18n="menu.complaints">ë¯¼ì›</a>
                <a href="emergency.html" class="menu-link px-3 py-1 text-sm rounded-lg hover:bg-primary hover:text-white transition whitespace-nowrap text-red-600 hover:bg-red-600" data-i18n="menu.emergency">ì‘ê¸‰</a>
            </div>
            
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <a href="index.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.home">í™ˆ</a>
                <a href="disease-info.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.disease">ë‡Œì§ˆí™˜ ì •ë³´</a>
                <a href="hospital.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.hospital">ë³‘ì› ê²€ìƒ‰</a>
                <a href="caregivers.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.caregivers">ê°„ë³‘ì¸</a>
                <a href="rehab.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.rehab">ì¬í™œìš´ë™</a>
                <a href="insurance.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.insurance">ë³´í—˜</a>
                <a href="support.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.support">ì§€ì›ì •ì±…</a>
                <a href="supplies.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.supplies">ê°„ë³‘ìš©í’ˆ</a>
                <a href="community.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.community">ì»¤ë®¤ë‹ˆí‹°</a>
                <a href="medical.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.medical">ëª…ì˜ì°¾ê¸°</a>
                <a href="complaints.html" class="block px-4 py-2 hover:bg-gray-100 rounded-lg" data-i18n="menu.complaints">ë¯¼ì›</a>
                <a href="emergency.html" class="block px-4 py-2 hover:bg-red-100 text-red-600 rounded-lg" data-i18n="menu.emergency">ì‘ê¸‰</a>
            </div>
        </div>
    </nav>

    <main class="pt-28 pb-16">
        <div class="container mx-auto px-4">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">ğŸ‘©â€âš•ï¸</div>
                <h1 class="text-4xl font-bold text-gray-900 mb-4">ê°„ë³‘ì¸ êµ¬ì¸êµ¬ì§</h1>
                <p class="text-xl text-gray-600">ë‹¹ê·¼ë§ˆì¼“ ìŠ¤íƒ€ì¼ ë§¤ì¹­ ì‹œìŠ¤í…œ</p>
            </div>

            <!-- ê²Œì‹œë¬¼ ë“±ë¡ ë²„íŠ¼ -->
            <div class="mb-6 flex justify-end">
                <button onclick="openPostModal()" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition flex items-center gap-2">
                    <i class="fas fa-plus"></i>
                    ê²Œì‹œë¬¼ ë“±ë¡í•˜ê¸°
                </button>
            </div>

            <!-- í•„í„° -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-bold mb-2">ê°„ë³‘ ìœ í˜•</label>
                        <select id="filterType" onchange="filterPosts()" class="w-full border rounded-lg px-3 py-2">
                            <option value="all">ì „ì²´</option>
                            <option value="ë³‘ì›">ë³‘ì› ê°„ë³‘</option>
                            <option value="ì…ì£¼">ì…ì£¼ ê°„ë³‘</option>
                            <option value="ì‹œê°„ì œ">ì‹œê°„ì œ ê°„ë³‘</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">ì§€ì—­</label>
                        <select id="filterRegion" onchange="filterPosts()" class="w-full border rounded-lg px-3 py-2">
                            <option value="all">ì „ì²´</option>
                            <option value="ì„œìš¸">ì„œìš¸</option>
                            <option value="ê²½ê¸°">ê²½ê¸°</option>
                            <option value="ì¸ì²œ">ì¸ì²œ</option>
                            <option value="ë¶€ì‚°">ë¶€ì‚°</option>
                            <option value="ëŒ€êµ¬">ëŒ€êµ¬</option>
                            <option value="ê´‘ì£¼">ê´‘ì£¼</option>
                            <option value="ëŒ€ì „">ëŒ€ì „</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">ìê²©ì¦</label>
                        <select id="filterCert" onchange="filterPosts()" class="w-full border rounded-lg px-3 py-2">
                            <option value="all">ì „ì²´</option>
                            <option value="ìˆìŒ">ìê²©ì¦ ë³´ìœ </option>
                            <option value="ì—†ìŒ">ìê²©ì¦ ì—†ìŒ</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">ì •ë ¬</label>
                        <select id="sortOrder" onchange="filterPosts()" class="w-full border rounded-lg px-3 py-2">
                            <option value="latest">ìµœì‹ ìˆœ</option>
                            <option value="price-low">ê°€ê²© ë‚®ì€ìˆœ</option>
                            <option value="price-high">ê°€ê²© ë†’ì€ìˆœ</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ê²Œì‹œë¬¼ ë¦¬ìŠ¤íŠ¸ -->
            <div id="postsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
    </main>

    <!-- ê²Œì‹œë¬¼ ë“±ë¡ ëª¨ë‹¬ -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <div class="bg-blue-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
                <h2 class="text-2xl font-bold">ê°„ë³‘ì¸ êµ¬ì¸êµ¬ì§ ë“±ë¡</h2>
                <button onclick="closePostModal()" class="text-white text-3xl">&times;</button>
            </div>
            <div class="p-6">
                <form id="postForm" onsubmit="submitPost(event)">
                    <div class="space-y-4">
                        <div>
                            <label class="block font-bold mb-2">ì´ë¦„ <span class="text-red-500">*</span></label>
                            <input type="text" name="name" required class="w-full border rounded-lg px-3 py-2" placeholder="í™ê¸¸ë™">
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ì—°ë½ì²˜ ì„ íƒ <span class="text-red-500">*</span></label>
                            <div class="grid grid-cols-3 gap-2 mb-2">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" name="contact_type" value="phone" onchange="toggleContactInputCaregiver(this)" class="w-4 h-4">
                                    <span>ğŸ“± íœ´ëŒ€í°</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" name="contact_type" value="kakao" onchange="toggleContactInputCaregiver(this)" class="w-4 h-4">
                                    <span>ğŸ’¬ ì¹´ì¹´ì˜¤í†¡</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" name="contact_type" value="email" onchange="toggleContactInputCaregiver(this)" class="w-4 h-4">
                                    <span>ğŸ“§ ì´ë©”ì¼</span>
                                </label>
                            </div>
                            <input type="tel" id="caregiver-phone-input" name="contact_phone" placeholder="010-1234-5678" class="w-full border rounded-lg px-3 py-2 mb-2 hidden">
                            <input type="text" id="caregiver-kakao-input" name="contact_kakao" placeholder="ì¹´ì¹´ì˜¤í†¡ ID" class="w-full border rounded-lg px-3 py-2 mb-2 hidden">
                            <input type="email" id="caregiver-email-input" name="contact_email" placeholder="example@email.com" class="w-full border rounded-lg px-3 py-2 mb-2 hidden">
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ê°„ë³‘ ìœ í˜• <span class="text-red-500">*</span></label>
                            <select name="type" required class="w-full border rounded-lg px-3 py-2">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ë³‘ì›">ë³‘ì› ê°„ë³‘</option>
                                <option value="ì…ì£¼">ì…ì£¼ ê°„ë³‘</option>
                                <option value="ì‹œê°„ì œ">ì‹œê°„ì œ ê°„ë³‘</option>
                            </select>
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ê²½ë ¥ (ë…„) <span class="text-red-500">*</span></label>
                            <input type="number" name="experience" required min="0" class="w-full border rounded-lg px-3 py-2" placeholder="5">
                        </div>

                        <div>
                            <label class="block font-bold mb-2">24ì‹œê°„ ìƒì£¼ ê°€ëŠ¥ ì—¬ë¶€ <span class="text-red-500">*</span></label>
                            <select name="fullTime" required class="w-full border rounded-lg px-3 py-2">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ê°€ëŠ¥">ê°€ëŠ¥</option>
                                <option value="ë¶ˆê°€ëŠ¥">ë¶ˆê°€ëŠ¥</option>
                            </select>
                        </div>

                        <div>
                            <label class="block font-bold mb-2">1ì¼ ë¹„ìš© (ì›) <span class="text-red-500">*</span></label>
                            <input type="number" name="dailyCost" required min="0" step="10000" class="w-full border rounded-lg px-3 py-2" placeholder="150000">
                        </div>

                        <div>
                            <label class="block font-bold mb-2">íœ´ì‹ì¼ <span class="text-red-500">*</span></label>
                            <select name="dayOff" required class="w-full border rounded-lg px-3 py-2">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ë¬´ê¸‰">ë¬´ê¸‰</option>
                                <option value="ìœ ê¸‰">ìœ ê¸‰</option>
                            </select>
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ìê²©ì¦ ìœ ë¬´ <span class="text-red-500">*</span></label>
                            <select name="certificate" required class="w-full border rounded-lg px-3 py-2">
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ìˆìŒ">ìˆìŒ (ìš”ì–‘ë³´í˜¸ì‚¬, ê°„í˜¸ì¡°ë¬´ì‚¬ ë“±)</option>
                                <option value="ì—†ìŒ">ì—†ìŒ</option>
                            </select>
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ê·¼ë¬´ ê°€ëŠ¥ ì§€ì—­ <span class="text-red-500">*</span></label>
                            <input type="text" name="region" required class="w-full border rounded-lg px-3 py-2" placeholder="ì„œìš¸ ê°•ë‚¨êµ¬, ì„œì´ˆêµ¬">
                        </div>

                        <div>
                            <label class="block font-bold mb-2">ì¥ì  ë° íŠ¹ì´ì‚¬í•­</label>
                            <textarea name="description" rows="4" class="w-full border rounded-lg px-3 py-2" placeholder="- ë‡Œì¡¸ì¤‘ í™˜ì ì „ë¬¸ ê²½ë ¥ 5ë…„&#10;- ì•¼ê°„ ê°„ë³‘ ê°€ëŠ¥&#10;- ì˜ì‚¬ì†Œí†µ ì›í™œ&#10;- ì„±ì‹¤í•˜ê³  ì±…ì„ê° ê°•í•¨"></textarea>
                        </div>
                    </div>

                    <div class="mt-6 flex gap-4">
                        <button type="submit" class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700">ë“±ë¡í•˜ê¸°</button>
                        <button type="button" onclick="closePostModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-400">ì·¨ì†Œ</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ê²Œì‹œë¬¼ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="bg-green-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
                <h2 class="text-2xl font-bold">ê°„ë³‘ì¸ ìƒì„¸ ì •ë³´</h2>
                <button onclick="closeDetailModal()" class="text-white text-3xl">&times;</button>
            </div>
            <div id="detailContent" class="p-6"></div>
        </div>
    </div>

    <footer class="bg-gray-900 text-white py-12 mt-16">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
            <!-- ì‚¬ì´íŠ¸ ì •ë³´ -->
            <div>
                <h3 class="text-xl font-bold mb-4">ğŸ§  ë‡Œì§ˆí™˜ì¼€ì–´</h3>
                <p class="text-gray-400 mb-2">ë‡Œì¶œí˜ˆÂ·ë‡Œê²½ìƒ‰ í™˜ìì™€ ê°€ì¡±ì„ ìœ„í•œ</p>
                <p class="text-gray-400">ì¢…í•© ì¼€ì–´ í”Œë«í¼</p>
            </div>
            
            <!-- ë¹ ë¥¸ ë§í¬ -->
            <div>
                <h3 class="text-xl font-bold mb-4">ë¹ ë¥¸ ë§í¬</h3>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="disease-info.html" class="hover:text-white">ë‡Œì§ˆí™˜ ì •ë³´</a></li>
                    <li><a href="hospital.html" class="hover:text-white">ë³‘ì› ê²€ìƒ‰</a></li>
                    <li><a href="support.html" class="hover:text-white">ì§€ì›ì •ì±…</a></li>
                    <li><a href="community.html" class="hover:text-white">ì»¤ë®¤ë‹ˆí‹°</a></li>
                    <li><a href="emergency.html" class="hover:text-white text-red-400">ì‘ê¸‰ì •ë³´</a></li>
                </ul>
            </div>
            
            <!-- í”Œë«í¼ ê°œë°œ ë¬¸ì˜ -->
            <div>
                <h3 class="text-xl font-bold mb-4">ğŸ“± í”Œë«í¼ ê°œë°œ ë¬¸ì˜</h3>
                <p class="text-gray-400 mb-4 text-sm">QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì—¬ ë¬¸ì˜í•˜ì„¸ìš”</p>
                <div class="flex gap-4">
                    <!-- ìœ„ì±— QR -->
                    <div class="text-center">
                        <img src="images/wechat-qr.jpg" alt="WeChat QR Code" class="w-32 h-32 bg-white p-2 rounded-lg mb-2">
                        <p class="text-sm text-gray-400">WeChat</p>
                    </div>
                    <!-- í…”ë ˆê·¸ë¨ QR -->
                    <div class="text-center">
                        <img src="images/telegram-qr.jpg" alt="Telegram QR Code" class="w-32 h-32 bg-white p-2 rounded-lg mb-2">
                        <p class="text-sm text-gray-400">Telegram</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ì €ì‘ê¶Œ -->
        <div class="border-t border-gray-800 pt-8 text-center text-gray-500">
            <p>&copy; 2025 CASHiQ.org - ë‡Œì§ˆí™˜ì¼€ì–´. All rights reserved.</p>
            <p class="text-sm mt-2">ë³¸ ì‚¬ì´íŠ¸ì˜ ì •ë³´ëŠ” ì°¸ê³ ìš©ì´ë©°, ì „ë¬¸ì˜ì™€ ìƒë‹´ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
        </div>
    </div>
</footer>


    <script>
        // ìƒ˜í”Œ ë°ì´í„°
        let posts = [
            {
                id: 1,
                name: "ê¹€ë¯¸ì˜",
                phone: "010-1234-5678",
                contact_phone: "010-1234-5678",
                contact_kakao: "caregiver_kim",
                contact_email: "",
                type: "ë³‘ì›",
                experience: 8,
                fullTime: "ê°€ëŠ¥",
                dailyCost: 180000,
                dayOff: "ìœ ê¸‰",
                certificate: "ìˆìŒ",
                region: "ì„œìš¸ ê°•ë‚¨êµ¬, ì„œì´ˆêµ¬",
                description: "- ìš”ì–‘ë³´í˜¸ì‚¬ ìê²©ì¦ ë³´ìœ \n- ë‡Œì¡¸ì¤‘ í™˜ì ì „ë¬¸ ê²½ë ¥ 8ë…„\n- ëŒ€í˜•ë³‘ì› ê°„ë³‘ ê²½í—˜ í’ë¶€\n- ì„±ì‹¤í•˜ê³  ì±…ì„ê° ê°•í•¨\n- í™˜ìì™€ ë³´í˜¸ì ë§Œì¡±ë„ ë†’ìŒ",
                date: "2025-10-22",
                likes: 12,
                dislikes: 1
            },
            {
                id: 2,
                name: "ë°•ì„ í¬",
                phone: "010-2345-6789",
                type: "ì…ì£¼",
                experience: 5,
                fullTime: "ê°€ëŠ¥",
                dailyCost: 200000,
                dayOff: "ìœ ê¸‰",
                certificate: "ìˆìŒ",
                region: "ì„œìš¸ ì „ì§€ì—­",
                description: "- ê°„í˜¸ì¡°ë¬´ì‚¬ ìê²©ì¦ ë³´ìœ \n- ì…ì£¼ ê°„ë³‘ ì „ë¬¸\n- 24ì‹œê°„ ìƒì£¼ ê°€ëŠ¥\n- ì˜ë£Œ ì§€ì‹ í’ë¶€\n- í™˜ì ê°€ì¡±ê³¼ ì†Œí†µ ì›í™œ",
                date: "2025-10-21"
            },
            {
                id: 3,
                name: "ì´ì •ìˆ™",
                phone: "010-3456-7890",
                type: "ì‹œê°„ì œ",
                experience: 3,
                fullTime: "ë¶ˆê°€ëŠ¥",
                dailyCost: 120000,
                dayOff: "ë¬´ê¸‰",
                certificate: "ì—†ìŒ",
                region: "ê²½ê¸° ì„±ë‚¨ì‹œ, ë¶„ë‹¹êµ¬",
                description: "- ì‹œê°„ì œ ê°„ë³‘ ì „ë¬¸\n- ë‚® ì‹œê°„ ê·¼ë¬´ ê°€ëŠ¥ (9ì‹œ-18ì‹œ)\n- ì¹œì ˆí•˜ê³  ì„±ì‹¤í•¨\n- í™˜ì ì‹ì‚¬ ë° ìœ„ìƒ ê´€ë¦¬ ê²½í—˜",
                date: "2025-10-20"
            },
            {
                id: 4,
                name: "ìµœì˜ë€",
                phone: "010-4567-8901",
                type: "ë³‘ì›",
                experience: 10,
                fullTime: "ê°€ëŠ¥",
                dailyCost: 190000,
                dayOff: "ìœ ê¸‰",
                certificate: "ìˆìŒ",
                region: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬, ìˆ˜ì˜êµ¬",
                description: "- ìš”ì–‘ë³´í˜¸ì‚¬ 1ê¸‰ ìê²©ì¦\n- 10ë…„ ê²½ë ¥ì˜ ë² í…Œë‘\n- ë‡Œì§ˆí™˜ í™˜ì ì „ë¬¸\n- ì•¼ê°„ ê°„ë³‘ ê°€ëŠ¥\n- ì‘ê¸‰ ìƒí™© ëŒ€ì²˜ ëŠ¥ë ¥ ìš°ìˆ˜",
                date: "2025-10-19"
            },
            {
                id: 5,
                name: "ì •ë¯¼ì•„",
                phone: "010-5678-9012",
                type: "ì…ì£¼",
                experience: 7,
                fullTime: "ê°€ëŠ¥",
                dailyCost: 210000,
                dayOff: "ìœ ê¸‰",
                certificate: "ìˆìŒ",
                region: "ì¸ì²œ ì „ì§€ì—­",
                description: "- ê°„í˜¸ì‚¬ ì¶œì‹ \n- ì˜ë£Œ ì§€ì‹ ì „ë¬¸ê°€\n- íˆ¬ì•½ ë° í˜ˆì•• ê´€ë¦¬ ê°€ëŠ¥\n- ì¬í™œ ìš´ë™ ë³´ì¡° ê°€ëŠ¥\n- í™˜ì ë§ì¶¤ ì¼€ì–´",
                date: "2025-10-18"
            },
            {
                id: 6,
                name: "í•œìˆ˜ì§„",
                phone: "010-6789-0123",
                type: "ë³‘ì›",
                experience: 4,
                fullTime: "ê°€ëŠ¥",
                dailyCost: 160000,
                dayOff: "ë¬´ê¸‰",
                certificate: "ìˆìŒ",
                region: "ëŒ€êµ¬ ì¤‘êµ¬, ë™êµ¬",
                description: "- ìš”ì–‘ë³´í˜¸ì‚¬ ìê²©ì¦\n- ë³‘ì› ê°„ë³‘ 4ë…„ ê²½ë ¥\n- í™˜ì ì´ë™ ë³´ì¡° ëŠ¥ìˆ™\n- ìœ„ìƒ ê´€ë¦¬ ì² ì €\n- ì„±ì‹¤í•˜ê³  ê¼¼ê¼¼í•¨",
                date: "2025-10-17"
            }
        ];

        function renderPosts(postsToRender = posts) {
            const postsList = document.getElementById('postsList');
            postsList.innerHTML = '';

            if (postsToRender.length === 0) {
                postsList.innerHTML = '<div class="col-span-full text-center py-12 text-gray-500">ì¡°ê±´ì— ë§ëŠ” ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            postsToRender.forEach(post => {
                const card = document.createElement('div');
                card.className = 'caregiver-card bg-white rounded-xl shadow-md p-6';
                card.onclick = () => openDetailModal(post);

                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-bold mb-1">${post.name}</h3>
                            <p class="text-sm text-gray-600">${post.region}</p>
                        </div>
                        <span class="badge bg-blue-100 text-blue-700">${post.type}</span>
                    </div>
                    
                    <div class="space-y-2 mb-4 text-sm">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-briefcase text-gray-500"></i>
                            <span>ê²½ë ¥ ${post.experience}ë…„</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-clock text-gray-500"></i>
                            <span>24ì‹œê°„ ìƒì£¼: ${post.fullTime}</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-certificate text-gray-500"></i>
                            <span>ìê²©ì¦: ${post.certificate}</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-calendar text-gray-500"></i>
                            <span>íœ´ì‹ì¼: ${post.dayOff}</span>
                        </div>
                    </div>

                    <div class="border-t pt-4 mt-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-xs text-gray-500">1ì¼ ê°„ë³‘ë¹„</p>
                                <p class="text-2xl font-bold text-green-600">${post.dailyCost.toLocaleString()}ì›</p>
                            </div>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-700">
                                ìƒì„¸ë³´ê¸°
                            </button>
                        </div>
                        <div class="flex items-center gap-4 mt-3 pt-3 border-t">
                            <button onclick="event.stopPropagation(); likeCaregiver(${post.id})" class="flex items-center gap-1 text-blue-600 hover:text-blue-700">
                                <i class="fas fa-thumbs-up"></i>
                                <span id="like-c-${post.id}">${post.likes || 0}</span>
                            </button>
                            <button onclick="event.stopPropagation(); dislikeCaregiver(${post.id})" class="flex items-center gap-1 text-red-600 hover:text-red-700">
                                <i class="fas fa-thumbs-down"></i>
                                <span id="dislike-c-${post.id}">${post.dislikes || 0}</span>
                            </button>
                        </div>
                    </div>
                `;

                postsList.appendChild(card);
            });
        }

        function filterPosts() {
            const type = document.getElementById('filterType').value;
            const region = document.getElementById('filterRegion').value;
            const cert = document.getElementById('filterCert').value;
            const sort = document.getElementById('sortOrder').value;

            let filtered = posts.filter(post => {
                if (type !== 'all' && post.type !== type) return false;
                if (region !== 'all' && !post.region.includes(region)) return false;
                if (cert !== 'all' && post.certificate !== cert) return false;
                return true;
            });

            // ì •ë ¬
            if (sort === 'latest') {
                filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
            } else if (sort === 'price-low') {
                filtered.sort((a, b) => a.dailyCost - b.dailyCost);
            } else if (sort === 'price-high') {
                filtered.sort((a, b) => b.dailyCost - a.dailyCost);
            }

            renderPosts(filtered);
        }

        function openPostModal() {
            document.getElementById('postModal').style.display = 'block';
        }

        function closePostModal() {
            document.getElementById('postModal').style.display = 'none';
            document.getElementById('postForm').reset();
        }

        function openDetailModal(post) {
            const modal = document.getElementById('detailModal');
            const content = document.getElementById('detailContent');

            content.innerHTML = `
                <div class="space-y-6">
                    <div class="border-b pb-4">
                        <h3 class="text-2xl font-bold mb-2">${post.name}</h3>
                        <span class="badge bg-blue-100 text-blue-700">${post.type} ê°„ë³‘</span>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">ì—°ë½ì²˜</p>
                            <p class="font-bold text-lg">${post.phone}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">ê²½ë ¥</p>
                            <p class="font-bold text-lg">${post.experience}ë…„</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">24ì‹œê°„ ìƒì£¼</p>
                            <p class="font-bold text-lg">${post.fullTime}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">ìê²©ì¦</p>
                            <p class="font-bold text-lg">${post.certificate}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">íœ´ì‹ì¼</p>
                            <p class="font-bold text-lg">${post.dayOff}</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-600 mb-1">1ì¼ ê°„ë³‘ë¹„</p>
                            <p class="font-bold text-2xl text-green-600">${post.dailyCost.toLocaleString()}ì›</p>
                        </div>
                    </div>

                    <div>
                        <p class="font-bold mb-2">ê·¼ë¬´ ê°€ëŠ¥ ì§€ì—­</p>
                        <p class="text-gray-700 bg-gray-50 p-3 rounded-lg">${post.region}</p>
                    </div>

                    <div>
                        <p class="font-bold mb-2">ì¥ì  ë° íŠ¹ì´ì‚¬í•­</p>
                        <div class="text-gray-700 bg-gray-50 p-4 rounded-lg whitespace-pre-line">${post.description}</div>
                    </div>

                    ${post.contact_phone || post.contact_kakao || post.contact_email ? `
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h4 class="font-bold mb-2">ğŸ“ ì—°ë½ì²˜</h4>
                        <div class="space-y-1 text-sm">
                            ${post.contact_phone ? `<p>ğŸ“± íœ´ëŒ€í°: ${post.contact_phone}</p>` : ''}
                            ${post.contact_kakao ? `<p>ğŸ’¬ ì¹´ì¹´ì˜¤í†¡: ${post.contact_kakao}</p>` : ''}
                            ${post.contact_email ? `<p>ğŸ“§ ì´ë©”ì¼: ${post.contact_email}</p>` : ''}
                        </div>
                    </div>
                    ` : ''}

                    <div class="flex items-center gap-6 pt-4 border-t">
                        <button onclick="likeCaregiver(${post.id})" class="flex items-center gap-2 text-blue-600 hover:text-blue-700 font-bold">
                            <i class="fas fa-thumbs-up text-xl"></i>
                            <span>ì¢‹ì•„ìš” <span id="like-c-${post.id}">${post.likes || 0}</span></span>
                        </button>
                        <button onclick="dislikeCaregiver(${post.id})" class="flex items-center gap-2 text-red-600 hover:text-red-700 font-bold">
                            <i class="fas fa-thumbs-down text-xl"></i>
                            <span>ì‹«ì–´ìš” <span id="dislike-c-${post.id}">${post.dislikes || 0}</span></span>
                        </button>
                    </div>

                    <div class="flex gap-4 mt-4">
                        ${post.contact_phone ? `
                        <a href="tel:${post.contact_phone}" class="flex-1 bg-green-600 text-white py-3 rounded-lg font-bold text-center hover:bg-green-700">
                            <i class="fas fa-phone mr-2"></i>ì „í™”í•˜ê¸°
                        </a>
                        ` : ''}
                        <button onclick="closeDetailModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-400">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            `;

            modal.style.display = 'block';
        }

        function closeDetailModal() {
            document.getElementById('detailModal').style.display = 'none';
        }

        // ì—°ë½ì²˜ ì…ë ¥ í† ê¸€
        function toggleContactInputCaregiver(checkbox) {
            const inputId = 'caregiver-' + checkbox.value + '-input';
            const input = document.getElementById(inputId);
            if (checkbox.checked) {
                input.classList.remove('hidden');
            } else {
                input.classList.add('hidden');
                input.value = '';
            }
        }

        // ì¢‹ì•„ìš”
        function likeCaregiver(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.likes = (post.likes || 0) + 1;
                document.getElementById(`like-c-${postId}`).textContent = post.likes;
                
                // LocalStorageì— ì €ì¥
                saveRatingsToStorage();
            }
        }

        // ì‹«ì–´ìš”
        function dislikeCaregiver(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.dislikes = (post.dislikes || 0) + 1;
                document.getElementById(`dislike-c-${postId}`).textContent = post.dislikes;
                
                // LocalStorageì— ì €ì¥
                saveRatingsToStorage();
            }
        }

        // LocalStorageì— í‰ê°€ ì €ì¥
        function saveRatingsToStorage() {
            const ratings = {};
            posts.forEach(post => {
                ratings[post.id] = {
                    likes: post.likes || 0,
                    dislikes: post.dislikes || 0
                };
            });
            localStorage.setItem('caregiverRatings', JSON.stringify(ratings));
        }

        // LocalStorageì—ì„œ í‰ê°€ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadRatingsFromStorage() {
            const savedRatings = localStorage.getItem('caregiverRatings');
            if (savedRatings) {
                const ratings = JSON.parse(savedRatings);
                posts.forEach(post => {
                    if (ratings[post.id]) {
                        post.likes = ratings[post.id].likes;
                        post.dislikes = ratings[post.id].dislikes;
                    }
                });
            }
        }

        function submitPost(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            const newPost = {
                id: posts.length + 1,
                name: formData.get('name'),
                phone: formData.get('phone') || '',
                contact_phone: formData.get('contact_phone') || '',
                contact_kakao: formData.get('contact_kakao') || '',
                contact_email: formData.get('contact_email') || '',
                type: formData.get('type'),
                experience: parseInt(formData.get('experience')),
                fullTime: formData.get('fullTime'),
                dailyCost: parseInt(formData.get('dailyCost')),
                dayOff: formData.get('dayOff'),
                certificate: formData.get('certificate'),
                region: formData.get('region'),
                description: formData.get('description') || 'ë“±ë¡ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.',
                date: new Date().toISOString().split('T')[0],
                likes: 0,
                dislikes: 0
            };

            posts.unshift(newPost);
            renderPosts();
            closePostModal();
            alert('ê²Œì‹œë¬¼ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const postModal = document.getElementById('postModal');
            const detailModal = document.getElementById('detailModal');
            if (event.target === postModal) {
                closePostModal();
            }
            if (event.target === detailModal) {
                closeDetailModal();
            }
        }

        // ì´ˆê¸° ë Œë”ë§
        loadRatingsFromStorage(); // LocalStorageì—ì„œ í‰ê°€ ë¶ˆëŸ¬ì˜¤ê¸°
        renderPosts();
    </script>

    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>
</body>
</html>